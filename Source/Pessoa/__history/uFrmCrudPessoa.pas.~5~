unit uFrmCrudPessoa;

interface

uses

  DataBase.Entity.Pessoa,
  DataBase.DAO.Pessoa,





  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, uBase, IWVCLComponent,
  IWBaseLayoutComponent, IWBaseContainerLayout, IWContainerLayout,
  IWTemplateProcessorHTML, IWCompButton, IWCompMemo, IWCompListbox,
  IWVCLBaseControl, IWBaseControl, IWBaseHTMLControl, IWControl, IWCompEdit;

type
  TFrmCrudPessoa = class(TFrmBase)
    COD_PESSOA: TIWEdit;
    COD_STATUS: TIWComboBox;
    PES_RAZAO: TIWEdit;
    PES_LOGRADOURO: TIWEdit;
    PES_NUMERO: TIWEdit;
    PES_BAIRRO: TIWEdit;
    PES_CIDADE: TIWEdit;
    PES_CEP: TIWEdit;
    PES_WHATSAPP: TIWEdit;
    OBS: TIWMemo;
    BTN_POST: TIWButton;
    BTN_CANCEL: TIWButton;
    procedure BTN_CANCELAsyncClick(Sender: TObject; EventParams: TStringList);
  private
    { Private declarations }

    Procedure Gravar;



  public
    { Public declarations }
  end;

var
  FrmCrudPessoa: TFrmCrudPessoa;

implementation

{$R *.dfm}

procedure TFrmCrudPessoa.BTN_CANCELAsyncClick(Sender: TObject;
  EventParams: TStringList);
begin
  inherited;

  WebApplication.ExecuteJS('ajaxCall(''Menu'',''page=lista-pessoa'')');


end;

procedure TFrmCrudPessoa.Gravar;
var
Pessoa : TPessoa;
begin


   try

    Pessoa := TPessoa.Create;


    Pessoa.COD_PESSOA               := StrToIntDef(COD_PESSOA.Text,0);
    Pessoa.COD_STATUS               := StrToIntDef(COD_STATUS.Text,0);
    Pessoa.PES_RAZAO                := Trim(PES_RAZAO.Text);
    Pessoa.PES_CEP                  := Trim(PES_CEP.Text);
    Pessoa.PES_LOGRADOURO           := Trim(PES_LOGRADOURO.Text);
    Pessoa.PES_NUMERO               := Trim(PES_NUMERO.Text);
    Pessoa.PES_BAIRRO               := Trim(PES_BAIRRO.Text);
    Pessoa.PES_CIDADE               := Trim(PES_CIDADE.Text);
    Pessoa.PES_WHATSAPP             := Trim(PES_WHATSAPP.Text);

    if Set_Pessoa() then










   finally

   Pessoa.free;

   end;



end;

end.
